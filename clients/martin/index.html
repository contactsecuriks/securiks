<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Total caisse - martin</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#111;color:#fff}
.login,.card{max-width:420px;margin:80px auto;background:#1e1e1e;padding:25px;border-radius:10px;text-align:center}
h1,h2{color:#4CAF50}
input,button{width:100%;padding:12px;margin-top:12px;border-radius:6px;border:none;font-size:16px}
button{background:#4CAF50;color:#000;font-weight:bold;cursor:pointer}
.error{color:#ff5252;margin-top:10px}
.value{font-size:1.8em;margin:10px}
.small{opacity:.7}
.logout{background:#ff5252;margin-top:20px}
#contentBox{display:none}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="login" id="loginBox">
  <h2>Acc&egrave;s s&eacute;curis&eacute;</h2>
  <input id="user" placeholder="Identifiant">
  <input id="pass" type="password" placeholder="Mot de passe">
  <button onclick="login()">Connexion</button>
  <div class="error" id="error"></div>
</div>

<!-- CONTENU -->
<div class="card" id="contentBox">
  <h1>Total caisse</h1>
  <div class="value">TOTAL : 275 &euro;</div>
  <div class="value">CB : 0 &euro;</div>
  <div class="value">ESP&Egrave;CES : 275 &euro;</div>
  <div class="small">Derni&egrave;re mise &agrave; jour : 19/02/2026 21:37</div>
  <button class="logout" onclick="logout()">D&eacute;connexion</button>
</div>

<script>
const ADMIN = "admin";
const PASSWORD_HASH = "7c2aec3ebe1354eba245dc1f7626fa9d7c28853fa4657aeaedc7064f0fefea15"; // mdp = 000

async function sha256(text) {
  const data = new TextEncoder().encode(text);
  const hash = await crypto.subtle.digest("SHA-256", data);
  return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2,"0")).join("");
}

async function login() {
  const u = document.getElementById("user").value;
  const p = document.getElementById("pass").value;
  const h = await sha256(p);

  if (u === ADMIN && h === PASSWORD_HASH) {
    showContent();
  } else {
    document.getElementById("error").innerText = "Identifiants incorrects";
  }
}

function logout() {
  location.reload();
}

function showContent() {
  document.getElementById("loginBox").style.display = "none";
  document.getElementById("contentBox").style.display = "block";
}
</script>

<!-- run:20260219213718 -->
</body>
</html>